const $event = {
    "creationTime": 1683274739574,
    "customFields": [
        {
            "indexedValue": [
                "FreightCost_1.0"
            ],
            "fieldKey": "FreightCost",
            "multiple": false,
            "description": null,
            "remark": null,
            "uuid": null,
            "required": false,
            "accessType": null,
            "input": "string",
            "unit": null,
            "valueType": "string",
            "options": null,
            "fieldType": "text",
            "value": "1.0",
            "isRemark": false
        },
        {
            "indexedValue": [
                "FreightType_perVehicle"
            ],
            "fieldKey": "FreightType",
            "multiple": false,
            "description": null,
            "remark": null,
            "uuid": null,
            "required": false,
            "accessType": null,
            "input": "string",
            "unit": null,
            "valueType": "string",
            "options": null,
            "fieldType": "text",
            "value": "perVehicle",
            "isRemark": false
        },
        {
            "indexedValue": [
                "PONo_a28cab12-e671-436a-87fd-338f1a46f851"
            ],
            "fieldKey": "PONo",
            "multiple": false,
            "description": null,
            "remark": null,
            "uuid": null,
            "required": false,
            "accessType": null,
            "input": "string",
            "unit": null,
            "valueType": "string",
            "options": null,
            "fieldType": "text",
            "value": "a28cab12-e671-436a-87fd-338f1a46f851",
            "isRemark": false
        },
        {
            "indexedValue": [
                "Invoice No's_2312395003"
            ],
            "fieldKey": "Invoice No's",
            "multiple": false,
            "description": null,
            "remark": null,
            "uuid": null,
            "required": false,
            "accessType": null,
            "input": null,
            "unit": null,
            "valueType": "string",
            "options": null,
            "fieldType": "text",
            "value": "23322222",
            "isRemark": false
        },
        {
            "indexedValue": [
                "VehicleAtSamePosition_1683275784757"
            ],
            "fieldKey": "VehicleAtSamePosition",
            "multiple": false,
            "description": "Vehicle At Same Position",
            "remark": "",
            "uuid": null,
            "required": false,
            "accessType": null,
            "input": "",
            "unit": "",
            "valueType": "string",
            "options": null,
            "fieldType": "date",
            "value": "1683275784757",
            "isRemark": false
        }
    ],
    "transportationMode": "ByRoad",
    "freightUnitLineItemId": "5ada3970-1e83-4046-b46b-25cf24954869",
    "lastSyncUpTime": 1683289624388,
    "updates": {
        "traceID": "shservicescheduletask_4_2182",
        "resourceId": "8e852304-39f9-4c3d-a8d5-8d3771677bfb",
        "updatedBy": "SYSTEM",
        "changes": null,
        "sourceOfInformation": null,
        "description": null,
        "forwardReasons": [
            "HEART-BEAT"
        ],
        "userId": null,
        "uuid": "b7c42cfe-a407-4afb-ab00-c4380a9247ae",
        "revision": 166,
        "time": 1683517593292,
        "forwardedFrom": null,
        "resourceType": "ShipmentObject",
        "updateType": null
    },
    "isActive": true,
    "uuid": "8e852304-39f9-4c3d-a8d5-8d3771677bfb",
    "issues": null,
    "branch": {
        "address": "Plot no. 6, Godown No. 3, Gali No. 1, Near sector 10 crossing, Saraswati Enclave, Main Patudi Road, Gurgaon 122001",
        "updatedBy": null,
        "customFields": [
            {
                "indexedValue": [
                    "FCM_GSTN_null"
                ],
                "fieldKey": "FCM_GSTN",
                "valueType": "string",
                "fieldType": "text",
                "value": null,
                "definitionId": null
            },
            {
                "indexedValue": [
                    "RCM_GSTN_null"
                ],
                "fieldKey": "RCM_GSTN",
                "valueType": "string",
                "fieldType": "text",
                "value": null,
                "definitionId": null
            },
            {
                "indexedValue": [
                    "STATE_NAME_null"
                ],
                "fieldKey": "STATE_NAME",
                "valueType": "string",
                "fieldType": "text",
                "value": null,
                "definitionId": null
            }
        ],
        "regionName": null,
        "externalId": "231",
        "branchName": null,
        "type": [
            "Sales"
        ],
        "updates": null,
        "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
        "areaId": null,
        "geoLocation": null,
        "regionId": null,
        "areaName": null,
        "name": "Gurgaon",
        "zoneId": "f01a93d8-cbb3-4c64-b532-5c08aaf14573",
        "_id": "d5f08b0d-3a23-4a2c-8eac-6f0f85b4ba46",
        "zoneName": "North",
        "contacts": [
            {
                "emails": [
                    "anil.kumar@shalimarpaints.com"
                ],
                "address": null,
                "mobileNumbers": [
                    "8287266509"
                ],
                "mobileNumber": null,
                "name": "Anil Kumar",
                "type": null
            }
        ],
        "officeType": null,
        "materialServices": null
    },
    "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
    "shipmentType": "DirectLeg",
    "completionTime": null,
    "routeId": null,
    "shipmentTrackingStatus": "Departed From Pickup Point",
    "lastForwardTime": 1683517593303,
    "runningStatus": null,
    "delayTrackingStatus": "UP TO DATE",
    "delayReasonLastUpdateTime": null,
    "links": null,
    "shipmentDate": 1683274739520,
    "delayReason": null,
    "shipmentNumber": "FRETSH000000044",
    "originalEdd": null,
    "edd": null,
    "delayReasonUpdateExpiryTime": null,
    "externalShipmentId": null,
    "fleetInfo": {
        "isTrackingEnable": false,
        "forwardingAgent": null,
        "verificationStatus": "UnVerified",
        "trackingMode": "VTS-LBS",
        "broker": {
            "geoFence": null,
            "documents": null,
            "customFields": null,
            "isPortalEnabled": false,
            "type": "vendor",
            "updates": null,
            "uuid": "2894ae39-b11f-427c-a487-a2214bf03ea9",
            "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
            "firmType": null,
            "gstn": null,
            "voterId": null,
            "verificationTicketId": null,
            "group": {
                "name": "Broker",
                "partnerType": null,
                "uuid": null,
                "orgId": null
            },
            "address": "{\"pincode\":null,\"address\":null,\"city\":\"New Delhi\",\"state\":null}",
            "verificationStatus": "unverified",
            "externalId": "T202Y10208",
            "panNumber": null,
            "aadharNo": null,
            "parentId": null,
            "places": null,
            "route": null,
            "name": "YUVRAJ TRANSPORT",
            "location": null,
            "fretronId": null,
            "contacts": [
                {
                    "emails": [
                        "kumarbinod3542@gmail.com"
                    ],
                    "address": null,
                    "mobileNumbers": [
                        "8800333922"
                    ],
                    "mobileNumber": null,
                    "name": "Binod Kumar",
                    "type": null
                }
            ],
            "status": "ACTIVE"
        },
        "uuid": "78cb4fa6-f1c6-4c46-98ee-60e177caca8a",
        "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
        "vehicle": {
            "vtsDeviceId": null,
            "kmDriven": null,
            "secondaryDriverId": null,
            "attachedDocs": [
                "e4a8e0ba-ad0b-4e06-9f92-32ed9c3a2f41"
            ],
            "customFields": [
                {
                    "indexedValue": [
                        "EngineNumber_G12BN273325"
                    ],
                    "fieldKey": "EngineNumber",
                    "valueType": "string",
                    "fieldType": "text",
                    "value": "G12BN273325",
                    "definitionId": null
                }
            ],
            "floorType": null,
            "description": null,
            "source": null,
            "isTrackingEnabled": false,
            "updates": null,
            "uuid": null,
            "branch": null,
            "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
            "vehicleLoadType": {
                "bodyType": "Open Body",
                "passingCapacityMT": 5,
                "minLength": 0,
                "updates": {
                    "traceID": null,
                    "resourceId": "bdcf0281-fda3-49dd-87bf-68bd90ab5b00",
                    "updatedBy": "USER",
                    "changes": null,
                    "sourceOfInformation": null,
                    "description": "Updated Load Type .",
                    "forwardReasons": [
                        "load.type.updated.event"
                    ],
                    "userId": "7d6539ac-5dd0-48d4-80d7-251fbdb86158",
                    "uuid": "a680520b-3aa2-471a-b74e-3efcad5a83a9",
                    "revision": null,
                    "time": 1677577856277,
                    "forwardedFrom": null,
                    "resourceType": "LoadTypes",
                    "updateType": null
                },
                "vehicleCategories": null,
                "uuid": "bdcf0281-fda3-49dd-87bf-68bd90ab5b00",
                "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
                "vehicleCategory": "Torus",
                "includeMaxLength": false,
                "minHeight": 0,
                "maxHeight": -1,
                "passingCapacityCFT": 4500,
                "bodyTypes": null,
                "partnerName": null,
                "includeMinLength": false,
                "partnerExternalId": null,
                "externalId": null,
                "chassisTypes": null,
                "numberOfWheels": 4,
                "chassisType": "4 Wheel",
                "includeMinHeight": false,
                "name": "Torus 5MT",
                "partnerId": null,
                "includeMaxHeight": false,
                "dimensionString": null,
                "maxLength": -1
            },
            "associatedWith": null,
            "isDeleted": null,
            "customerId": null,
            "vehicleModel": null,
            "mileageEmpty": null,
            "mileageLoaded": null,
            "vehicleType": "Torus 5MT",
            "groups": null,
            "externalId": null,
            "updateTime": null,
            "sharedWith": [
                "FRETRON_GOD_FO"
            ],
            "baseLocationId": null,
            "vehicleMake": null,
            "vehicleRegistrationNumber": "DL1LS3542",
            "chassisNumber": "MA3ERLF1S00296915",
            "driverId": null,
            "createTime": null,
            "loadCapacity": 5,
            "truckLength": null,
            "category": null,
            "groupsExtended": null
        },
        "driver": {
            "pincode": null,
            "dlExpiryTime": null,
            "attachedDocs": [],
            "isEmployee": false,
            "pfNumber": null,
            "address": null,
            "mobileNumbers": null,
            "dlNumber": null,
            "mobileNumber": "9650261916",
            "customFields": null,
            "externalId": null,
            "updates": null,
            "aadharNo": null,
            "type": null,
            "uuid": null,
            "branch": null,
            "orgId": null,
            "vehicleRegistrationNumber": null,
            "name": "KAMLESH",
            "vehicleId": null,
            "associatedUserId": null,
            "status": null
        },
        "fleetType": "Owned",
        "fleetOwner": {
            "geoFence": null,
            "documents": null,
            "customFields": null,
            "isPortalEnabled": false,
            "type": "vendor",
            "updates": null,
            "uuid": "2894ae39-b11f-427c-a487-a2214bf03ea9",
            "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
            "firmType": null,
            "gstn": null,
            "voterId": null,
            "verificationTicketId": null,
            "group": {
                "name": "Broker",
                "partnerType": null,
                "uuid": null,
                "orgId": null
            },
            "address": "{\"pincode\":null,\"address\":null,\"city\":\"New Delhi\",\"state\":null}",
            "verificationStatus": "unverified",
            "externalId": "T202Y10208",
            "panNumber": null,
            "aadharNo": null,
            "parentId": null,
            "places": null,
            "route": null,
            "name": "YUVRAJ TRANSPORT",
            "location": null,
            "fretronId": null,
            "contacts": [
                {
                    "emails": [
                        "kumarbinod3542@gmail.com"
                    ],
                    "address": null,
                    "mobileNumbers": [
                        "8800333922"
                    ],
                    "mobileNumber": null,
                    "name": "Binod Kumar",
                    "type": null
                }
            ],
            "status": "ACTIVE"
        },
        "trainInfo": null,
        "lbsNumber": null,
        "secondaryDriver": {
            "pincode": null,
            "dlExpiryTime": null,
            "attachedDocs": null,
            "isEmployee": false,
            "pfNumber": null,
            "address": null,
            "mobileNumbers": null,
            "dlNumber": null,
            "mobileNumber": null,
            "customFields": null,
            "externalId": null,
            "updates": null,
            "aadharNo": null,
            "type": null,
            "uuid": null,
            "branch": null,
            "orgId": null,
            "vehicleRegistrationNumber": null,
            "name": null,
            "vehicleId": null,
            "associatedUserId": null,
            "status": null
        },
        "device": {
            "branchId": null,
            "isSuspended": null,
            "mobileNumber": null,
            "manufacturerName": null,
            "groups": null,
            "attachedResourceNumber": null,
            "externalId": null,
            "updateTime": 1683283847010,
            "isAssociated": null,
            "sharedWith": null,
            "type": "lbs",
            "updates": null,
            "uuid": null,
            "orgId": "0bbdc122-f963-452f-9af1-28715f5e36b2",
            "attachedResourceId": null,
            "isDeleted": null,
            "createTime": null,
            "serviceProvider": null,
            "imei": "9650261916",
            "usedBy": null,
            "status": "ALLOWED"
        },
        "status": "ACTIVE"
    },
    "syncUpDueTime": null,
    "billingStatus": null,
    "currentLocation": {
        "isFillingEnabled": false,
        "address": "Nangloi Pedestrian Underpass, Block 4 ABC, Nangloi Extension, Nangloi, Delhi, 110041, India",
        "lngLat": [
            77.06836222222222,
            28.68226638888889
        ],
        "odometer": null,
        "latitude": 28.68226638888889,
        "course": null,
        "imei": "8e852304-39f9-4c3d-a8d5-8d3771677bfb",
        "decoder": "sim",
        "time": 1683283846985,
        "vehicleId": null,
        "speed": 0,
        "longitude": 77.06836222222222
    },
    "alerts": [
        {
            "closedBy": "c3a987e1-b4ab-449d-8b2b-a28fe455dcca",
            "createdAt": 1683283847032,
            "issueId": null,
            "createdBy": null,
            "snoozTime": null,
            "description": "Inconsistent Location Updated",
            "type": "shipment.inconsist.location.notification",
            "uuid": "8abfe270-a531-4e1a-8813-c77829ecc3a7",
            "status": "OPEN",
            "updatedAt": 1683294472523
        }
    ],
    "equipments": null,
    "tripType": "Shipment",
    "lastDelayCalculationTime": null,
    "delayReasonUpdateDueTime": null,
    "locationTrackingStatus": "UP TO DATE",
    "poLineItemId": "b61eed8c-aa54-431a-be71-dd606edc2245",
    "consignments": [],
    "customContacts": null,
    "shipmentStages": [
        {
            "departureTime": 1683275028000,
            "gateInTime": 1683275024863,
            "actualActivityStartTime": 1683275026684,
            "actualActivityEndTime": 1683275028836,
            "uuid": "9d8763ba-ad1f-48d3-9456-3a931349df33",
            "consignmentDelivered": null,
            "resourceDropOff": null,
            "resourcePickup": null,
            "eta": null,
            "stageName": "Gurgaon, Gurgaon-231",
            "hub": {
                "hubId": null,
                "boundary": null,
                "address": null,
                "accessibility": "private",
                "addedBy": "0bbdc122-f963-452f-9af1-28715f5e36b2",
                "center": {
                    "latitude": 28.4472808,
                    "longitude": 76.995915
                },
                "suggestedRadius": 2000,
                "isOwned": null,
                "centerCoordinates": [
                    76.995915,
                    28.4472808
                ],
                "placeId": "c40ef1e4-9c65-4eb1-9249-952906b22114",
                "geoJsonBoundry": null,
                "externalId": "231",
                "source": "GOOGLE",
                "places": [],
                "viewport": null,
                "district": "Gurgaon",
                "name": "Gurgaon-231",
                "state": "Gurgaon",
                "category": "Hub",
                "subDistrict": null,
                "controllingBranchId": null
            },
            "arrivalTime": 1683275003303,
            "expectedActivityStartTime": null,
            "secondaryStatus": null,
            "consignmentPickUps": [
                "9e5f4f4f-27d5-4268-b194-8d92bcc765c1"
            ],
            "tripPoint": {
                "outOfTrackSince": null,
                "creationTime": 1683284851246,
                "purpose": "Pickup",
                "plannedArrival": null,
                "currentGpsState": null,
                "updates": {
                    "traceID": "f948bf98-363f-408c-a0bd-d9e385584143",
                    "resourceId": "9d8763ba-ad1f-48d3-9456-3a931349df33",
                    "updatedBy": "SYSTEM",
                    "changes": null,
                    "sourceOfInformation": null,
                    "description": "From AT to AT",
                    "forwardReasons": [
                        "trippoint.updated",
                        "trippoint.updated"
                    ],
                    "userId": null,
                    "uuid": "4ec359c2-21e7-4cf0-8ca4-b6b18fe7423d",
                    "revision": 1,
                    "time": 1683284851246,
                    "forwardedFrom": null,
                    "resourceType": "TripPoint",
                    "updateType": null
                },
                "uuid": "9d8763ba-ad1f-48d3-9456-3a931349df33",
                "sequenceId": null,
                "isDisconnected": false,
                "isOutOfTrack": false,
                "routeDeviationMinimumDistanceConstraint": null,
                "eta": null,
                "routeId": null,
                "expectedActivityStartTime": null,
                "actualDeparture": null,
                "vehicleId": "9650261916",
                "place": null,
                "remainingDistance": null,
                "actualActivityStartTime": null,
                "forShipmentStages": [
                    "9d8763ba-ad1f-48d3-9456-3a931349df33"
                ],
                "actualActivityEndTime": null,
                "actualArrival": 1683275003303,
                "purposedDistance": null,
                "plannedDeparture": null,
                "currentLocation": null,
                "isAutoCompleted": false,
                "coveredDistance": null,
                "hub": {
                    "hubId": null,
                    "boundary": null,
                    "address": null,
                    "accessibility": "private",
                    "addedBy": "0bbdc122-f963-452f-9af1-28715f5e36b2",
                    "center": {
                        "latitude": 28.4472808,
                        "longitude": 76.995915
                    },
                    "suggestedRadius": 2000,
                    "isOwned": null,
                    "centerCoordinates": [
                        76.995915,
                        28.4472808
                    ],
                    "placeId": "c40ef1e4-9c65-4eb1-9249-952906b22114",
                    "geoJsonBoundry": null,
                    "externalId": "231",
                    "source": "GOOGLE",
                    "places": null,
                    "viewport": null,
                    "district": "Gurgaon",
                    "name": "Gurgaon-231",
                    "state": "Gurgaon",
                    "category": "Hub",
                    "subDistrict": null,
                    "controllingBranchId": null
                },
                "imei": "9650261916",
                "assosiatedShipmentsId": [
                    "8e852304-39f9-4c3d-a8d5-8d3771677bfb"
                ],
                "status": "COMPLETED"
            },
            "place": null,
            "controllingBranchId": null,
            "gateOutTime": null,
            "status": "COMPLETED"
        },
        {
            "departureTime": 1683289623136,
            "gateInTime": 1683289177046,
            "actualActivityStartTime": 1683289177047,
            "actualActivityEndTime": 1683289623136,
            "uuid": "d7ca1714-c083-4cef-a764-825c1495be0b",
            "consignmentDelivered": [
                "9e5f4f4f-27d5-4268-b194-8d92bcc765c1"
            ],
            "resourceDropOff": null,
            "resourcePickup": null,
            "eta": null,
            "stageName": null,
            "hub": {
                "hubId": null,
                "boundary": null,
                "address": null,
                "accessibility": "private",
                "addedBy": "0bbdc122-f963-452f-9af1-28715f5e36b2",
                "center": {
                    "latitude": 22.5662591832351,
                    "longitude": 88.21423622437786
                },
                "suggestedRadius": 2000,
                "isOwned": null,
                "centerCoordinates": [
                    88.21423622437786,
                    22.5662591832351
                ],
                "placeId": "a985b741-7366-4717-8904-f15f18e565eb",
                "geoJsonBoundry": null,
                "externalId": "202",
                "source": "GOOGLE",
                "places": null,
                "viewport": null,
                "district": "NEW DELHI",
                "name": "NEW DELHI-SHALIMAR PAINTS LIMITED",
                "state": "Delhi",
                "category": "Hub",
                "subDistrict": null,
                "controllingBranchId": null
            },
            "arrivalTime": 1683281946000,
            "expectedActivityStartTime": null,
            "secondaryStatus": null,
            "consignmentPickUps": null,
            "tripPoint": {
                "outOfTrackSince": null,
                "creationTime": 1683284929058,
                "purpose": "Delivery",
                "plannedArrival": null,
                "currentGpsState": {
                    "numberOfRecord": 1,
                    "totalTime": 0,
                    "averageSpeeds": 0,
                    "eventType": "StateDetected",
                    "uuid": "f996a2fe-966a-4a6a-a22e-7a08ecc8e796",
                    "isDisconnected": false,
                    "startLocation": {
                        "isFillingEnabled": false,
                        "address": "Nangloi Pedestrian Underpass, Block 4 ABC, Nangloi Extension, Nangloi, Delhi, 110041, India",
                        "lngLat": [
                            77.06836222222222,
                            28.68226638888889
                        ],
                        "odometer": {
                            "isSoftwareMeterManuallyCalibrated": null,
                            "softwareMeter": null,
                            "hardwareDistance": null,
                            "lastUpdateTime": null,
                            "lastCalibrationTime": null,
                            "hardwareReading": null
                        },
                        "latitude": 28.68226638888889,
                        "course": null,
                        "imei": "9650261916",
                        "decoder": "lbs",
                        "time": 1683283587000,
                        "vehicleId": null,
                        "speed": 0,
                        "longitude": 77.06836222222222
                    },
                    "isNoGpsZone": false,
                    "mean": {
                        "isFillingEnabled": false,
                        "address": "Nangloi Pedestrian Underpass, Block 4 ABC, Nangloi Extension, Nangloi, Delhi, 110041, India",
                        "lngLat": [
                            77.06836222222222,
                            28.68226638888889
                        ],
                        "odometer": {
                            "isSoftwareMeterManuallyCalibrated": null,
                            "softwareMeter": null,
                            "hardwareDistance": null,
                            "lastUpdateTime": null,
                            "lastCalibrationTime": null,
                            "hardwareReading": null
                        },
                        "latitude": 28.68226638888889,
                        "course": null,
                        "imei": "9650261916",
                        "decoder": "lbs",
                        "time": 1683283587000,
                        "vehicleId": null,
                        "speed": 0,
                        "longitude": 77.06836222222222
                    },
                    "imei": "9650261916",
                    "startTime": 1683283587000,
                    "endTime": 1683283587000,
                    "vehicleId": null,
                    "state": "Unknown",
                    "totalDistance": 0,
                    "endLocation": {
                        "isFillingEnabled": false,
                        "address": "Nangloi Pedestrian Underpass, Block 4 ABC, Nangloi Extension, Nangloi, Delhi, 110041, India",
                        "lngLat": [
                            77.06836222222222,
                            28.68226638888889
                        ],
                        "odometer": {
                            "isSoftwareMeterManuallyCalibrated": null,
                            "softwareMeter": null,
                            "hardwareDistance": null,
                            "lastUpdateTime": null,
                            "lastCalibrationTime": null,
                            "hardwareReading": null
                        },
                        "latitude": 28.68226638888889,
                        "course": null,
                        "imei": "9650261916",
                        "decoder": "lbs",
                        "time": 1683283587000,
                        "vehicleId": null,
                        "speed": 0,
                        "longitude": 77.06836222222222
                    }
                },
                "updates": {
                    "traceID": "925b49ed-e3fa-4af6-82e1-a8ca5470d274",
                    "resourceId": "d7ca1714-c083-4cef-a764-825c1495be0b",
                    "updatedBy": "SYSTEM",
                    "changes": null,
                    "sourceOfInformation": null,
                    "description": "From UPCOMING to AT",
                    "forwardReasons": [
                        "trippoint.status.updated",
                        "trippoint.updated"
                    ],
                    "userId": null,
                    "uuid": "bfb08ebe-7051-498a-9370-9a7cb0708f92",
                    "revision": 2,
                    "time": 1683289151829,
                    "forwardedFrom": null,
                    "resourceType": "TripPoint",
                    "updateType": null
                },
                "uuid": "d7ca1714-c083-4cef-a764-825c1495be0b",
                "sequenceId": null,
                "isDisconnected": false,
                "isOutOfTrack": false,
                "routeDeviationMinimumDistanceConstraint": null,
                "eta": null,
                "routeId": null,
                "expectedActivityStartTime": null,
                "actualDeparture": null,
                "vehicleId": "9650261916",
                "place": null,
                "remainingDistance": 1308557.7158733967,
                "actualActivityStartTime": null,
                "forShipmentStages": [
                    "d7ca1714-c083-4cef-a764-825c1495be0b"
                ],
                "actualActivityEndTime": null,
                "actualArrival": 1683281946000,
                "purposedDistance": null,
                "plannedDeparture": null,
                "currentLocation": null,
                "isAutoCompleted": false,
                "coveredDistance": null,
                "hub": {
                    "hubId": null,
                    "boundary": null,
                    "address": null,
                    "accessibility": "private",
                    "addedBy": "0bbdc122-f963-452f-9af1-28715f5e36b2",
                    "center": {
                        "latitude": 22.5662591832351,
                        "longitude": 88.21423622437786
                    },
                    "suggestedRadius": 2000,
                    "isOwned": null,
                    "centerCoordinates": [
                        88.21423622437786,
                        22.5662591832351
                    ],
                    "placeId": "a985b741-7366-4717-8904-f15f18e565eb",
                    "geoJsonBoundry": null,
                    "externalId": "202",
                    "source": "GOOGLE",
                    "places": null,
                    "viewport": null,
                    "district": "NEW DELHI",
                    "name": "NEW DELHI-SHALIMAR PAINTS LIMITED",
                    "state": "Delhi",
                    "category": "Hub",
                    "subDistrict": null,
                    "controllingBranchId": null
                },
                "imei": "9650261916",
                "assosiatedShipmentsId": [
                    "8e852304-39f9-4c3d-a8d5-8d3771677bfb"
                ],
                "status": "COMPLETED"
            },
            "place": null,
            "controllingBranchId": null,
            "gateOutTime": null,
            "status": "COMPLETED"
        }
    ],
    "remarks": null,
    "syncUpExpiryTime": null,
    "shipmentStatus": "Created"
}
function getFromCf(cfs, key) {
    if (cf) {
        let value = cfs.find((v) => v.fieldKey == key)
        if (value) {
            return value.value
        }
    }
    else {
        return null
    }

}
async function main(sh) {
    try {
        let status = 200
        let data = sh
        let error = null
        let defaultRes = {
            "status": 200,
            "data": stage,
            "error": null
        }
        let cfs = sh.customFields
        let shipmentTrackingStatus = sh?.shipmentTrackingStatus
        let firstStage = sh?.shipmentStages?.length ? sh.shipmentStages[0] : null

        if (shipmentTrackingStatus && firstStage && shipmentTrackingStatus == "Departed From Pickup Point" && firstStage.status == "COMPLETED") {
            let invoiceNo = getFromCf(cfs, "Invoice No's")
            if (!invoiceNo) {
                status = 400
                error = "Invoice No Not Found"
                data = null
            }
        }
        return { data: data, status: status, error: error }
    }
    catch (e) {
        console.log(`error executing ${e.message}`)
        return { data: null, status: 400, error: e.message }

    }

}

main($event).then((v) => {
    console.log(v)
}).catch((e) => {
    console.log(`error executing in main ${e.message}`)
});
